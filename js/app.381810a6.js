(function(){"use strict";var e={3048:function(e,t,n){var r=n(8317),s=n(50),o=n(7874);const a={class:"chat-container"},i={class:"messages"},c={class:"message-content"},u={class:"input-area"};function l(e,t,n,l,p,f){return(0,s.wg)(),(0,s.iD)("div",a,[(0,s._)("div",i,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.messages,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:(0,o.C_)({"message-user":"user"===e.role,"message-assistant":"assistant"===e.role})},[(0,s._)("div",c,(0,o.zw)(e.content),1)],2)))),128))]),(0,s._)("div",u,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.userInput=e),onKeyup:t[1]||(t[1]=(0,r.D2)(((...e)=>l.sendMessage&&l.sendMessage(...e)),["enter"])),placeholder:"输入消息...",class:"input-field"},null,544),[[r.nr,l.userInput]]),(0,s._)("button",{onClick:t[2]||(t[2]=(...e)=>l.sendMessage&&l.sendMessage(...e)),class:"send-button"},"发送")])])}n(6484);var p=n(920),f=n.n(p),d=n(4670),h={name:"App",setup(){const e=(0,d.iH)([]),t=(0,d.iH)("");async function n(){const n=f().trimStart(t.value);if(!n)return;e.value.push({role:"user",content:n});const s={messages:e.value,stream:!0,model:"gpt-3.5-turbo-16k",temperature:.7,presence_penalty:0};try{let t=await fetch("https://openai.lbbai.cc/v1/chat/completions",{headers:{accept:"text/event-stream","content-type":"application/json","x-requested-with":"XMLHttpRequest",Referer:"https://124389964761.ai701.live/"},body:JSON.stringify(s),method:"POST"}),n=await t.text(),o=r(n);e.value.push({role:"assistant",content:o})}catch(o){console.error("Failed to send message: ",o),e.value.push({role:"assistant",content:"Sorry, there was an error."})}t.value=""}function r(e){try{let t=e.replace(/data:/g,"").replace(/\[DONE\]/g,"").replace(/\s+/g,","),n=`[${t}]`;n=n.replace(",","");let r=n.lastIndexOf(",");-1!==r&&(n=n.substring(0,r)+n.substring(r+1));let s=JSON.parse(n),o="";for(let e=0;e<s.length;e++)if(s[e].choices[0].delta.content){let t=s[e].choices[0].delta.content;o+=t}return o.replace(/,/g," ")}catch(t){return console.error("Error processing the response: ",t),"There was an error processing the response."}}return{messages:e,userInput:t,sendMessage:n}}},g=n(4570);const v=(0,g.Z)(h,[["render",l]]);var m=v;(0,r.ri)(m).mount("#app")}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,function(){var e=[];n.O=function(t,r,s,o){if(!r){var a=1/0;for(l=0;l<e.length;l++){r=e[l][0],s=e[l][1],o=e[l][2];for(var i=!0,c=0;c<r.length;c++)(!1&o||a>=o)&&Object.keys(n.O).every((function(e){return n.O[e](r[c])}))?r.splice(c--,1):(i=!1,o<a&&(a=o));if(i){e.splice(l--,1);var u=s();void 0!==u&&(t=u)}}return t}o=o||0;for(var l=e.length;l>0&&e[l-1][2]>o;l--)e[l]=e[l-1];e[l]=[r,s,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var s,o,a=r[0],i=r[1],c=r[2],u=0;if(a.some((function(t){return 0!==e[t]}))){for(s in i)n.o(i,s)&&(n.m[s]=i[s]);if(c)var l=c(n)}for(t&&t(r);u<a.length;u++)o=a[u],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(l)},r=self["webpackChunkmy_chatgpt_app"]=self["webpackChunkmy_chatgpt_app"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(3048)}));r=n.O(r)})();
//# sourceMappingURL=app.381810a6.js.map